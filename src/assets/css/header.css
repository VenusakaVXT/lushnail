/* ========================================================================
   HEADER.CSS - Header Component Styles
   ======================================================================== */

/* ========================================================================
   Sticky Navigation Styles
   ======================================================================== */
/* When scroll down - background #f8f7f6 blur with transparency */
.nav-bg-blur {
    background-color: rgb(0 0 0 / 15%) !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    box-shadow: 0 2px 10px rgb(82 82 82) !important;
    transition: background-color 0.3s ease, backdrop-filter 0.3s ease, -webkit-backdrop-filter 0.3s ease;
}

/* 
#main-navbar.nav-bg-blur {
    background-color: rgb(0 0 0 / 30%) !important;
  
    box-shadow: 0 2px 10px rgb(82 82 82) !important;

} */
.header-navbar-desktop.nav-bg-blur a,
.header-navbar-desktop.nav-bg-blur svg,
.header-navbar-desktop.nav-bg-blur button {
    color: #fff !important;
}

/* Fixed navbar styles */
#main-navbar.fixed,
#mobile-navbar.fixed {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 100 !important;
    transition: all 0.3s ease;
}

/* White background for fixed navbar */
.nav-bg-white {
    background-color: #ffffff !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

/* Ensure topbar is not fixed - it should scroll away */
.header-topbar {
    position: relative;
}

/* Mobile Menu Animation */
#mobile-menu {
    animation: fadeIn 0.25s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========================================================================
   @LAYER COMPONENTS - Header Specific Components
   ======================================================================== */
@layer components {

    /* ========================================================================
       HEADER LAYOUT GROUP: Header Layout Properties
       ======================================================================== */
    .header-wrapper {
        @apply bg-white flex flex-col w-full;
    }

    /* ========================================================================
       TOPBAR GROUP: Topbar Banner Styles
       ======================================================================== */
    .header-topbar {
        @apply bg-gradient-to-b from-[#F4DB89] to-[#DDB657] flex items-center justify-between gap-2 sm:gap-6 px-0 md:px-4 py-1 sm:py-2 w-full;
    }

    .header-topbar .container {
        @apply flex items-center justify-between gap-3 sm:gap-6;
    }

    .header-topbar-text {
        @apply text-[#141414] text-[10px] sm:text-[13px] md:text-[14px] leading-tight sm:leading-snug flex-1 uppercase;
        line-height: 1.2;
        max-width: calc(100% - 120px);
        word-wrap: break-word;
        white-space: normal;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        line-clamp: 2;
    }

    @media (max-width: 640px) {
        .header-topbar-text {
            font-size: 10px;
            line-height: 1.3;
            max-width: calc(100% - 80px);
        }
    }

    @media (min-width: 641px) {
        .header-topbar-text {
            max-width: calc(100% - 150px);
        }
    }

    /* Tablet-specific topbar optimizations (768px - 1023px) */
    @media (min-width: 768px) and (max-width: 1023px) {
        .header-topbar {
            padding-left: 1rem;
            padding-right: 1rem;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .header-topbar-text {
            font-size: 12px;
            max-width: calc(100% - 140px);
        }

        .header-topbar-language-button {
            font-size: 12px;
        }

        .header-topbar-language-icon {
            width: 1rem;
            height: 1rem;
        }

        .header-topbar-language-chevron {
            width: 0.75rem;
            height: 0.75rem;
        }
    }

    .header-topbar-link {
        @apply text-[#141414] underline hover:text-[#ae873e] transition-colors;
    }

    .header-topbar-lang {
        @apply flex-shrink-0 ml-3 sm:ml-4;
    }

    .header-topbar-language-button {
        @apply flex items-center gap-1 sm:gap-1.5 md:gap-2 text-[#141414] text-[10px] sm:text-[13px] md:text-[14px] hover:text-[#ae873e] transition-colors bg-transparent border-0 cursor-pointer;
    }

    .header-topbar-language-icon {
        @apply w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5;
    }

    .header-topbar-language-text {
        @apply whitespace-nowrap;
    }

    @media (max-width: 480px) {
        .header-topbar-language-text {
            display: none;
        }
    }

    .header-topbar-language-chevron {
        @apply w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4;
    }

    /* Language Dropdown Topbar */
    #language-dropdown-topbar {
        position: absolute !important;
        z-index: 9999 !important;
        top: 100% !important;
        right: 0 !important;
        display: none !important;
    }

    /* Show language dropdown on hover */
    .header-topbar-lang:hover #language-dropdown-topbar,
    #language-toggle-topbar:hover~#language-dropdown-topbar {
        display: block !important;
    }

    /* Keep language dropdown visible when hovering over it */
    #language-dropdown-topbar:hover {
        display: block !important;
    }

    /* Ensure dropdown text is always dark */
    #language-dropdown-topbar * {
        color: #333 !important;
    }

    .header-topbar-button {
        @apply bg-[#080606] text-white text-[13px] sm:text-[14px] px-3 py-1.5 border border-black border-solid transition;
    }

    /* ========================================================================
       NAVBAR GROUP: Navigation Bar Styles
       ======================================================================== */
    .header-navbar-desktop {
        @apply hidden md:flex bg-[#f8f7f6] whitespace-nowrap items-center min-h-[106px] justify-between px-4 py-3 shadow-sm transition-all duration-300;

    }

    /* Tablet-specific optimizations (768px - 1023px) */
    @media (min-width: 768px) and (max-width: 1023px) {
        .header-navbar-desktop {
            min-height: 90px;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .header-navbar-desktop .container {
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .header-navbar-link {
            font-size: 14px;
            padding: 0.25rem 0;
        }

        .header-logo {
            max-height: 45px;
        }

        .header-navbar-desktop form {
            min-width: 180px;
            max-width: 200px;
        }

        .header-navbar-desktop form input {
            font-size: 13px;
            padding-left: 2.5rem;
            padding-right: 0.75rem;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .header-navbar-desktop form i {
            width: 1rem;
            height: 1rem;
            left: 0.75rem;
        }

        .header-icon {
            width: 1.25rem;
            height: 1.25rem;
        }

        .header-navbar-desktop .container>div:first-child {
            flex-shrink: 1;
            min-width: 0;
        }
    }

    /* Center navigation links */
    /* .header-navbar-desktop > div:first-child {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
    } */

    /* Ensure icons container stays on the right */
    .header-navbar-desktop>div:last-child {
        position: relative;
        z-index: 1;
    }

    /* Ensure language dropdown container doesn't get clipped */
    .header-navbar-desktop>.header-navbar-link:has(.relative) {
        overflow: visible !important;
    }

    .header-navbar-mobile {
        @apply flex md:hidden bg-[#f8f7f6] items-center justify-between px-0 sm:px-4 py-3 shadow-sm transition-all duration-300 relative;
    }

    .header-navbar-mobile .container {
        @apply flex items-center justify-between w-full;
    }

    .header-navbar-mobile-links {
        @apply flex gap-4 items-center whitespace-nowrap relative;
        width: calc(100vw - 70px);
        max-width: calc(100vw - 70px);
        overflow-x: auto !important;
        overflow-y: hidden !important;
        scrollbar-width: none;
        /* Firefox */
        -ms-overflow-style: none;
        /* IE and Edge */
        -webkit-overflow-scrolling: touch;
        /* Smooth scrolling on iOS */
    }

    .nav-bg-blur .header-navbar-mobile-links a,
    .nav-bg-blur .header-navbar-mobile-links svg,
    .nav-bg-blur .header-navbar-mobile-links,
    .nav-bg-blur .header-navbar-mobile-toggle,
    .nav-bg-blur .header-icon-button {
        color: #fff !important;
    }

    .header-navbar-mobile-links::-webkit-scrollbar {
        display: none;
        /* Chrome, Safari, Opera */
    }


    .header-navbar-link {
        @apply text-[#333] text-[16px] hover:text-black transition flex-shrink-0;
        position: relative !important;
        overflow: visible !important;
    }

    /* Hover underline effect - black line animation */
    .header-navbar-link::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0;
        height: 2px;
        background-color: #000;
        transition: width 0.3s ease;
    }

    .header-navbar-link:hover::after {
        width: 100%;
    }

    /* Active state - darker black text and yellow underline */
    .header-navbar-link.active {
        @apply text-black font-bold;
        color: #000 !important;
    }

    .header-navbar-link.active::after {
        width: 100%;
        background-color: #DDB657;
        height: 2px;
    }

    .header-navbar-mobile-toggle {
        @apply text-black transition-colors;
        flex-shrink: 0;
        width: 44px;
    }

    .header-navbar-mobile-icon {
        @apply w-6 h-6;
    }

    /* Logo Styles */
    .header-logo-link {
        @apply flex items-center;
    }

    .header-logo {
        @apply h-auto;
        max-height: 50px;
        width: auto;
    }

    @media (max-width: 640px) {
        .header-logo {
            max-height: 70px;
        }
    }

    /* Mobile Logo Centering */
    .header-navbar-mobile .container>.flex-1 {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1;
    }

    .header-navbar-mobile-menu {
        @apply hidden absolute top-full left-0 w-full bg-[#f8f7f6] flex flex-col items-center gap-3 py-4 shadow-md z-50;
    }

    /* Header Icons */
    .header-navbar-icons {
        @apply flex items-center gap-4 ml-auto;
    }

    .header-navbar-mobile-icons {
        @apply flex items-center gap-4;
        flex-shrink: 0;
        width: auto;
    }

    .header-icon-button {
        @apply p-1 text-[#333] hover:text-black transition-colors;
    }

    .header-icon {
        @apply w-6 h-6;
    }

    /* Language Dropdown */
    #language-dropdown {
        position: absolute !important;
        z-index: 9999 !important;
        top: 100% !important;
        right: 0 !important;
        display: none !important;
    }

    /* Ensure dropdown text is always dark */
    #language-dropdown *,
    #language-dropdown-mobile * {
        color: #333 !important;
    }

    /* Override nav-bg-blur for dropdown */
    .nav-bg-blur #language-dropdown *,
    .nav-bg-blur #language-dropdown-mobile * {
        color: #333 !important;
    }

    /* Show language dropdown on hover - only for language container */
    .header-navbar-link>.relative:first-child:hover #language-dropdown,
    #language-toggle:hover~#language-dropdown {
        display: block !important;
    }

    /* Keep language dropdown visible when hovering over it */
    #language-dropdown:hover {
        display: block !important;
    }

    /* Search Dropdown */
    #search-dropdown {
        position: absolute !important;
        z-index: 9999 !important;
        top: 100% !important;
        right: 0 !important;
        display: none !important;
    }

    /* Ensure search dropdown text is always dark */
    #search-dropdown * {
        color: #333 !important;
    }

    /* Override nav-bg-blur for search dropdown */
    .nav-bg-blur #search-dropdown * {
        color: #333 !important;
    }

    /* User Dropdown */
    #user-dropdown {
        position: absolute !important;
        z-index: 9999 !important;
        top: 100% !important;
        right: 0 !important;
        display: none !important;
    }

    /* Ensure user dropdown text is always dark */
    #user-dropdown * {
        color: #333 !important;
    }

    /* Override nav-bg-blur for user dropdown */
    .nav-bg-blur #user-dropdown * {
        color: #333 !important;
    }

    /* Show user dropdown on hover - only for user container */
    .header-navbar-link>.relative:last-child:hover #user-dropdown,
    #user-toggle:hover~#user-dropdown {
        display: block !important;
    }

    /* Keep user dropdown visible when hovering over it */
    #user-dropdown:hover {
        display: block !important;
    }

    /* User Dropdown Mobile */
    #user-dropdown-mobile {
        position: absolute !important;
        z-index: 9999 !important;
        top: 100% !important;
        right: 0 !important;
        display: none !important;
    }

    /* Ensure user dropdown mobile text is always dark */
    #user-dropdown-mobile * {
        color: #333 !important;
    }

    /* Override nav-bg-blur for user dropdown mobile */
    .nav-bg-blur #user-dropdown-mobile * {
        color: #333 !important;
    }

    /* Show user dropdown mobile on click/touch */
    .header-navbar-mobile-icons>.relative:hover #user-dropdown-mobile,
    #user-toggle-mobile:hover~#user-dropdown-mobile {
        display: block !important;
    }

    /* Keep user dropdown mobile visible when hovering over it */
    #user-dropdown-mobile:hover {
        display: block !important;
    }

    /* Language Dropdown Mobile */
    #language-dropdown-mobile {
        position: absolute !important;
        z-index: 9999 !important;
        top: 100% !important;
        right: 0 !important;
        display: none !important;
    }

    /* Show mobile dropdown on hover */
    .header-navbar-mobile-icons>.relative:hover #language-dropdown-mobile,
    #language-toggle-mobile:hover~#language-dropdown-mobile {
        display: block !important;
    }

    /* Ensure language dropdown container doesn't clip */
    .header-navbar-link>div {
        position: relative !important;
        overflow: visible !important;
    }

    /* Ensure mobile language dropdown container doesn't clip */
    .header-navbar-mobile-icons>.relative {
        position: relative !important;
        overflow: visible !important;
    }

    /* Ensure mobile links container can scroll */
    .header-navbar-mobile-icons {
        overflow-x: visible !important;
        overflow-y: visible !important;
    }

    .header-navbar-mobile-links {
        overflow-x: auto !important;
        overflow-y: hidden !important;
        -webkit-overflow-scrolling: touch !important;
        scrollbar-width: none !important;
        -ms-overflow-style: none !important;
    }

    .header-navbar-mobile-links::-webkit-scrollbar {
        display: none !important;
    }

    /* Mobile Drawer */
    .header-mobile-drawer {
        @apply fixed inset-0 z-[9999] pointer-events-none;
    }

    .header-mobile-drawer.active {
        @apply pointer-events-auto;
    }

    .header-mobile-drawer-overlay {
        @apply absolute inset-0 bg-black/50 opacity-0 transition-opacity duration-300;
    }

    .header-mobile-drawer.active .header-mobile-drawer-overlay {
        @apply opacity-100;
    }

    .header-mobile-drawer-content {
        @apply absolute right-0 top-0 h-screen w-[85vw] max-w-[400px] bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-out;
    }

    .header-mobile-drawer.active .header-mobile-drawer-content {
        @apply translate-x-0;
    }

    .header-mobile-drawer-header {
        @apply flex items-center justify-between p-6 border-b border-gray-200;
    }

    .header-mobile-drawer-logo {
        @apply flex-1 flex items-center;
    }

    .header-mobile-drawer-logo>div {
        @apply mx-0;
    }

    .header-mobile-drawer-close {
        @apply p-2 text-[#333] hover:text-black transition-colors;
    }

    .header-mobile-drawer-body {
        @apply flex flex-col h-[calc(100%-120px)] overflow-y-auto;
    }

    .header-mobile-drawer-section {
        @apply flex flex-col border-b border-gray-200 last:border-b-0;
    }

    .header-mobile-drawer-link {
        @apply px-6 py-4 text-[#333] text-[16px] hover:bg-[#f8f7f6] hover:text-black transition-colors;
    }

    /* Social Media Icons */
    .header-social-icon {
        @apply p-2 text-[#333] hover:text-[#ae873e] transition-colors;
    }

}