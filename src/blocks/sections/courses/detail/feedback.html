<!-- Feedback/Testimonials Section -->
<section class="relative w-full bg-black py-12 sm:py-16 lg:py-20 overflow-hidden" data-name="feedback">
    <!-- Background Image -->
    <div class="absolute inset-0 z-0">
        <img src="../../../../assets/images/BN3.jpg" 
             alt="Background" 
             class="w-full h-full object-cover opacity-30" />
    </div>
    
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Header -->
        <div class="text-center mb-10 sm:mb-12 lg:mb-16">
            <p class="font-fz-poppins text-[#DDB657] text-xs sm:text-base mb-2 uppercase">
                VÌ SAO NÊN CHỌN CHÚNG TÔI?
            </p>
            <h2 class="font-fz-poppins text-[#DDB657] text-[28px] sm:text-[36px] lg:text-[48px] font-bold mb-4 uppercase">
                CẢM NHẬN HỌC VIÊN
            </h2>
            <p class="font-fz-poppins text-white text-[14px] sm:text-[15px] md:text-[16px] leading-relaxed max-w-2xl mx-auto">
                Những chia sẻ chân thật từ học viên đã tin tưởng và đồng hành cùng chúng tôi
            </p>
        </div>

        <!-- Testimonials Slider -->
        <div class="blaze-slider bslider-feedback-testimonials section_testimonials max-w-6xl mx-auto" id="feedback-slider">
            <div class="blaze-container">
                <div class="blaze-track-container">
                    <div class="blaze-track">
                        <!-- Testimonial 1 -->
                        <div class="blaze-slide">
                            <div class="testimonial-card bg-[#1a1a1a] rounded-2xl p-6 sm:p-8 border border-[#DDB657] transition-all duration-500">
                                <div class="flex items-start gap-4 mb-4">
                                    <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&auto=format&fit=crop" 
                                         alt="Huyền Trang" 
                                         class="w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover flex-shrink-0" />
                                    <div class="flex-1">
                                        <h3 class="font-fz-poppins text-white text-[16px] sm:text-[18px] font-semibold mb-1">
                                            Huyền Trang
                                        </h3>
                                        <p class="font-fz-poppins text-[#DDB657] text-[12px] sm:text-[14px] uppercase">
                                            CHỦ TIỆM NAILS
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Star Rating -->
                                <div class="flex items-center gap-1 mb-4">
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                </div>
                                
                                <!-- Testimonial Text with Golden Quote -->
                                <div class="relative">
                                    <span class="absolute -top-2 -right-2 text-[#DDB657] text-5xl sm:text-6xl font-serif leading-none opacity-80">"</span>
                                    <p class="font-fz-poppins text-white text-[14px] sm:text-[15px] md:text-[16px] leading-relaxed relative z-10 pr-8">
                                        Tôi đã từng học ở nhiều nơi nhưng chỉ khi đến đây tôi mới thực sự hiểu thế nào là nghệ thuật Nail đỉnh cao. Giáo trình rất sát thực tế, không giấu nghề.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Testimonial 2 -->
                        <div class="blaze-slide">
                            <div class="testimonial-card bg-[#1a1a1a] rounded-2xl p-6 sm:p-8 border border-[#DDB657] transition-all duration-500">
                                <div class="flex items-start gap-4 mb-4">
                                    <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&auto=format&fit=crop" 
                                         alt="Ngọc Anh" 
                                         class="w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover flex-shrink-0" />
                                    <div class="flex-1">
                                        <h3 class="font-fz-poppins text-white text-[16px] sm:text-[18px] font-semibold mb-1">
                                            Ngọc Anh
                                        </h3>
                                        <p class="font-fz-poppins text-[#DDB657] text-[12px] sm:text-[14px] uppercase">
                                            HỌC VIÊN
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Star Rating -->
                                <div class="flex items-center gap-1 mb-4">
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                </div>
                                
                                <!-- Testimonial Text with Golden Quote -->
                                <div class="relative">
                                    <span class="absolute -top-2 -right-2 text-[#DDB657] text-5xl sm:text-6xl font-serif leading-none opacity-80">"</span>
                                    <p class="font-fz-poppins text-white text-[14px] sm:text-[15px] md:text-[16px] leading-relaxed relative z-10 pr-8">
                                        Khóa học rất chi tiết và dễ hiểu. Giảng viên hỗ trợ tận tình, mình đã tự tin mở salon riêng sau khi hoàn thành khóa học.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Testimonial 3 -->
                        <div class="blaze-slide">
                            <div class="testimonial-card bg-[#1a1a1a] rounded-2xl p-6 sm:p-8 border border-[#DDB657] transition-all duration-500">
                                <div class="flex items-start gap-4 mb-4">
                                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200&auto=format&fit=crop" 
                                         alt="Mai Linh" 
                                         class="w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover flex-shrink-0" />
                                    <div class="flex-1">
                                        <h3 class="font-fz-poppins text-white text-[16px] sm:text-[18px] font-semibold mb-1">
                                            Mai Linh
                                        </h3>
                                        <p class="font-fz-poppins text-[#DDB657] text-[12px] sm:text-[14px] uppercase">
                                            THỢ NAIL CHUYÊN NGHIỆP
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Star Rating -->
                                <div class="flex items-center gap-1 mb-4">
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                </div>
                                
                                <!-- Testimonial Text with Golden Quote -->
                                <div class="relative">
                                    <span class="absolute -top-2 -right-2 text-[#DDB657] text-5xl sm:text-6xl font-serif leading-none opacity-80">"</span>
                                    <p class="font-fz-poppins text-white text-[14px] sm:text-[15px] md:text-[16px] leading-relaxed relative z-10 pr-8">
                                        Mình đã học được rất nhiều kỹ thuật nâng cao từ khóa học này. Chất lượng giảng dạy tuyệt vời, giáo trình rõ ràng và thực hành nhiều.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Testimonial 4 -->
                        <div class="blaze-slide">
                            <div class="testimonial-card bg-[#1a1a1a] rounded-2xl p-6 sm:p-8 border border-[#DDB657] transition-all duration-500">
                                <div class="flex items-start gap-4 mb-4">
                                    <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&auto=format&fit=crop" 
                                         alt="Thanh Hương" 
                                         class="w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover flex-shrink-0" />
                                    <div class="flex-1">
                                        <h3 class="font-fz-poppins text-white text-[16px] sm:text-[18px] font-semibold mb-1">
                                            Thanh Hương
                                        </h3>
                                        <p class="font-fz-poppins text-[#DDB657] text-[12px] sm:text-[14px] uppercase">
                                            HỌC VIÊN
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Star Rating -->
                                <div class="flex items-center gap-1 mb-4">
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                    <i data-lucide="star" class="w-4 h-4 sm:w-5 sm:h-5 text-[#DDB657] fill-[#DDB657]"></i>
                                </div>
                                
                                <!-- Testimonial Text with Golden Quote -->
                                <div class="relative">
                                    <span class="absolute -top-2 -right-2 text-[#DDB657] text-5xl sm:text-6xl font-serif leading-none opacity-80">"</span>
                                    <p class="font-fz-poppins text-white text-[14px] sm:text-[15px] md:text-[16px] leading-relaxed relative z-10 pr-8">
                                        Giáo viên rất tận tâm và chuyên nghiệp. Mình học được không chỉ kỹ thuật mà còn cả cách giao tiếp với khách hàng. Khóa học thực sự đáng giá!
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Custom styles for testimonials slider navigation buttons */
.section_testimonials .blaze-prev,
.section_testimonials .blaze-next {
    background-color: #DDB657 !important;
    color: #fff !important;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    display: flex !important;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 20;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.section_testimonials .blaze-prev i,
.section_testimonials .blaze-next i {
    color: #fff !important;
    stroke-width: 2.5;
}

.section_testimonials .blaze-prev {
    left: -60px;
}

.section_testimonials .blaze-next {
    right: -60px;
}

.section_testimonials .blaze-prev:hover,
.section_testimonials .blaze-next:hover {
    background-color: #F4DB89 !important;
    transform: translateY(-50%) scale(1.1);
}

@media (max-width: 1024px) {
    .section_testimonials .blaze-prev {
        left: -40px;
    }
    .section_testimonials .blaze-next {
        right: -40px;
    }
}

@media (max-width: 768px) {
    .section_testimonials .blaze-prev {
        left: 8px;
    }
    .section_testimonials .blaze-next {
        right: 8px;
    }
}

/* Pagination dots styling */
.section_testimonials .blaze-pagination {
    display: flex !important;
    justify-content: center;
    gap: 10px;
    margin-top: 32px;
    padding: 0;
}

.section_testimonials .blaze-pagination button {
    background-color: #000 !important;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: 2px solid #fff !important;
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 0;
    position: relative;
}

.section_testimonials .blaze-pagination button.active {
    background-color: #DDB657 !important;
    width: 12px;
    height: 12px;
    border: 2px solid #000 !important;
}

/* Testimonial card styles - active state */
.testimonial-card {
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    transform: scale(0.95) translateY(0);
    opacity: 0.8;
    min-height: auto;
    border-width: 1px;
}

.testimonial-card.active {
    border-width: 2px;
    transform: scale(1.05) translateY(-10px);
    opacity: 1;
    box-shadow: 0 12px 32px rgba(221, 182, 87, 0.4);
    min-height: 100%;
}

/* Smooth transition for blaze track */
.section_testimonials .blaze-track {
    transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    will-change: transform;
}

/* Ensure container has relative positioning for navigation buttons */
.section_testimonials .blaze-container {
    position: relative;
}

/* Ensure slides have equal height */
.section_testimonials .blaze-slide {
    display: flex;
    align-items: stretch;
}

.section_testimonials .blaze-slide > div {
    width: 100%;
    display: flex;
    flex-direction: column;
}
</style>

<script>
// Update active slide styling
document.addEventListener('DOMContentLoaded', function() {
    const slider = document.getElementById('feedback-slider');
    if (!slider) return;
    
    // Wait for BlazeSlider to initialize
    setTimeout(function() {
        const blazeInstance = slider.blazeSlider;
        if (!blazeInstance) {
            // Retry after a bit more time
            setTimeout(arguments.callee, 200);
            return;
        }
        
        function updateActiveSlide() {
            const slides = slider.querySelectorAll('.blaze-slide');
            if (slides.length === 0) return;
            
            const currentStateIndex = blazeInstance.stateIndex || 0;
            const slidesToShow = window.innerWidth >= 1023 ? 3 : (window.innerWidth >= 600 ? 2 : 1);
            
            // Calculate the middle slide index (active slide)
            const activeIndex = currentStateIndex + Math.floor(slidesToShow / 2);
            
            slides.forEach(function(slide, index) {
                const card = slide.querySelector('.testimonial-card');
                if (!card) return;
                
                if (index === activeIndex) {
                    card.classList.add('active');
                } else {
                    card.classList.remove('active');
                }
            });
        }
        
        // Listen for slide changes
        if (blazeInstance.onSlide) {
            blazeInstance.onSlide(function(stateIndex, firstSlideIndex, lastSlideIndex) {
                setTimeout(updateActiveSlide, 150);
            });
        }
        
        // Initial update
        setTimeout(updateActiveSlide, 400);
        
        // Update on navigation button clicks
        const prevBtn = slider.querySelector('.blaze-prev');
        const nextBtn = slider.querySelector('.blaze-next');
        
        if (prevBtn) {
            prevBtn.addEventListener('click', function() {
                setTimeout(updateActiveSlide, 300);
            });
        }
        
        if (nextBtn) {
            nextBtn.addEventListener('click', function() {
                setTimeout(updateActiveSlide, 300);
            });
        }
        
        // Update on pagination clicks
        const paginationButtons = slider.querySelectorAll('.blaze-pagination button');
        paginationButtons.forEach(function(btn) {
            btn.addEventListener('click', function() {
                setTimeout(updateActiveSlide, 300);
            });
        });
        
        // Update on window resize
        let resizeTimer;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(updateActiveSlide, 200);
        });
        
        // Periodic update for autoplay
        setInterval(function() {
            updateActiveSlide();
        }, 500);
        
    }, 500);
});
</script>

